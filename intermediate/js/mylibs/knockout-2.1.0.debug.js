(function(s,n,x,l){var w=!0;(function(l){typeof require==="function"&&typeof exports==="object"&&typeof module==="object"?l(module.exports||exports):typeof define==="function"&&define.amd?define(["exports"],l):l(s.ko={})})(function(t){function z(b,c,d){d&&c!==a.selectExtensions.readValue(b)&&a.selectExtensions.writeValue(b,c);c!==a.selectExtensions.readValue(b)&&a.utils.triggerEvent(b,"change")}var a=typeof t!=="undefined"?t:{};a.exportSymbol=function(b,c){for(var d=b.split("."),f=a,g=0;g<d.length-
1;g++)f=f[d[g]];f[d[d.length-1]]=c};a.exportProperty=function(a,c,d){a[c]=d};a.version="2.1.0";a.exportSymbol("version",a.version);a.utils=new function(){function b(b,c){if(a.utils.tagNameLower(b)!=="input"||!b.type)return!1;if(c.toLowerCase()!="click")return!1;var e=b.type;return e=="checkbox"||e=="radio"}var c=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,d={},f={},g=/Firefox\/2/i.test(x.userAgent)?"KeyboardEvent":"UIEvents";d[g]=["keyup","keydown","keypress"];d.MouseEvents="click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave".split(",");
for(var e in d)if(g=d[e],g.length)for(var h=0,j=g.length;h<j;h++)f[g[h]]=e;var k={propertychange:!0},i=function(){for(var a=3,b=n.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="<\!--[if gt IE "+ ++a+"]><i></i><![endif]--\>",c[0];);return a>4?a:l}();return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,e=a.length;c<e;c++)b(a[c])},arrayIndexOf:function(a,b){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(a,
b);for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var e=0,f=a.length;e<f;e++)if(b.call(c,a[e]))return a[e];return null},arrayRemoveItem:function(b,c){var e=a.utils.arrayIndexOf(b,c);e>=0&&b.splice(e,1)},arrayGetDistinctValues:function(b){for(var b=b||[],c=[],e=0,f=b.length;e<f;e++)a.utils.arrayIndexOf(c,b[e])<0&&c.push(b[e]);return c},arrayMap:function(a,b){for(var a=a||[],c=[],e=0,f=a.length;e<f;e++)c.push(b(a[e]));return c},arrayFilter:function(a,b){for(var a=
a||[],c=[],e=0,f=a.length;e<f;e++)b(a[e])&&c.push(a[e]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,e=b.length;c<e;c++)a.push(b[c]);return a},extend:function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},emptyDomNode:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},moveCleanedNodesToContainerElement:function(b){for(var b=a.utils.makeArray(b),c=n.createElement("div"),e=0,f=b.length;e<f;e++)a.cleanNode(b[e]),c.appendChild(b[e]);
return c},setDomNodeChildren:function(b,c){a.utils.emptyDomNode(b);if(c)for(var e=0,f=c.length;e<f;e++)b.appendChild(c[e])},replaceDomNodes:function(b,c){var e=b.nodeType?[b]:b;if(e.length>0){for(var f=e[0],d=f.parentNode,g=0,h=c.length;g<h;g++)d.insertBefore(c[g],f);g=0;for(h=e.length;g<h;g++)a.removeNode(e[g])}},setOptionNodeSelectionState:function(a,b){x.userAgent.indexOf("MSIE 6")>=0?a.setAttribute("selected",b):a.selected=b},stringTrim:function(a){return(a||"").replace(c,"")},stringTokenize:function(b,
c){for(var e=[],f=(b||"").split(c),g=0,d=f.length;g<d;g++){var h=a.utils.stringTrim(f[g]);h!==""&&e.push(h)}return e},stringStartsWith:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},buildEvalWithinScopeFunction:function(a,b){for(var c="return ("+a+")",e=0;e<b;e++)c="with(sc["+e+"]) { "+c+" } ";return new Function("sc",c)},domNodeIsContainedBy:function(a,b){if(b.compareDocumentPosition)return(b.compareDocumentPosition(a)&16)==16;for(;a!=null;){if(a==b)return!0;a=a.parentNode}return!1},
domNodeIsAttachedToDocument:function(b){return a.utils.domNodeIsContainedBy(b,b.ownerDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(a,c,e){var f=i&&k[c];if(!f&&typeof jQuery!="undefined"){if(b(a,c))var g=e,e=function(a,b){var c=this.checked;if(b)this.checked=b.checkedStateBeforeEvent!==!0;g.call(this,a);this.checked=c};jQuery(a).bind(c,e)}else if(!f&&typeof a.addEventListener=="function")a.addEventListener(c,e,!1);else if(typeof a.attachEvent!=
"undefined")a.attachEvent("on"+c,function(b){e.call(a,b)});else throw Error("Browser doesn't support addEventListener or attachEvent");},triggerEvent:function(a,c){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!="undefined"){var e=[];b(a,c)&&e.push({checkedStateBeforeEvent:a.checked});jQuery(a).trigger(c,e)}else if(typeof n.createEvent=="function")if(typeof a.dispatchEvent=="function")e=n.createEvent(f[c]||"HTMLEvents"),e.initEvent(c,!0,!0,
s,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(e);else throw Error("The supplied element doesn't support dispatchEvent");else if(typeof a.fireEvent!="undefined"){if(b(a,c))a.checked=a.checked!==!0;a.fireEvent("on"+c)}else throw Error("Browser doesn't support triggering events");},unwrapObservable:function(b){return a.isObservable(b)?b():b},toggleDomNodeCssClass:function(b,c,e){var f=(b.className||"").split(/\s+/),g=a.utils.arrayIndexOf(f,c)>=0;if(e&&!g)b.className+=(f[0]?" ":"")+c;else if(g&&!e){e=
"";for(g=0;g<f.length;g++)f[g]!=c&&(e+=f[g]+" ");b.className=a.utils.stringTrim(e)}},setTextContent:function(b,c){var e=a.utils.unwrapObservable(c);if(e===null||e===l)e="";"innerText"in b?b.innerText=e:b.textContent=e;if(i>=9)b.style.display=b.style.display},ensureSelectElementIsRenderedCorrectly:function(a){if(i>=9){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(b,c){for(var b=a.utils.unwrapObservable(b),c=a.utils.unwrapObservable(c),e=[],f=b;f<=c;f++)e.push(f);return e},makeArray:function(a){for(var b=
[],c=0,e=a.length;c<e;c++)b.push(a[c]);return b},isIe6:i===6,isIe7:i===7,ieVersion:i,getFormFields:function(b,c){for(var e=a.utils.makeArray(b.getElementsByTagName("input")).concat(a.utils.makeArray(b.getElementsByTagName("textarea"))),f=typeof c=="string"?function(a){return a.name===c}:function(a){return c.test(a.name)},g=[],d=e.length-1;d>=0;d--)f(e[d])&&g.push(e[d]);return g},parseJson:function(b){return typeof b=="string"&&(b=a.utils.stringTrim(b))?s.JSON&&s.JSON.parse?s.JSON.parse(b):(new Function("return "+
b))():null},stringifyJson:function(b,c,e){if(typeof JSON=="undefined"||typeof JSON.stringify=="undefined")throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(a.utils.unwrapObservable(b),c,e)},postJson:function(b,c,e){var e=e||{},f=e.params||{},g=e.includeFields||this.fieldsIncludedWithJsonPost,d=b;if(typeof b=="object"&&
a.utils.tagNameLower(b)==="form")for(var d=b.action,h=g.length-1;h>=0;h--)for(var k=a.utils.getFormFields(b,g[h]),j=k.length-1;j>=0;j--)f[k[j].name]=k[j].value;var c=a.utils.unwrapObservable(c),i=n.createElement("form");i.style.display="none";i.action=d;i.method="post";for(var l in c)b=n.createElement("input"),b.name=l,b.value=a.utils.stringifyJson(a.utils.unwrapObservable(c[l])),i.appendChild(b);for(l in f)b=n.createElement("input"),b.name=l,b.value=f[l],i.appendChild(b);n.body.appendChild(i);e.submitter?
e.submitter(i):i.submit();setTimeout(function(){i.parentNode.removeChild(i)},0)}}};a.exportSymbol("utils",a.utils);a.exportSymbol("utils.arrayForEach",a.utils.arrayForEach);a.exportSymbol("utils.arrayFirst",a.utils.arrayFirst);a.exportSymbol("utils.arrayFilter",a.utils.arrayFilter);a.exportSymbol("utils.arrayGetDistinctValues",a.utils.arrayGetDistinctValues);a.exportSymbol("utils.arrayIndexOf",a.utils.arrayIndexOf);a.exportSymbol("utils.arrayMap",a.utils.arrayMap);a.exportSymbol("utils.arrayPushAll",
a.utils.arrayPushAll);a.exportSymbol("utils.arrayRemoveItem",a.utils.arrayRemoveItem);a.exportSymbol("utils.extend",a.utils.extend);a.exportSymbol("utils.fieldsIncludedWithJsonPost",a.utils.fieldsIncludedWithJsonPost);a.exportSymbol("utils.getFormFields",a.utils.getFormFields);a.exportSymbol("utils.postJson",a.utils.postJson);a.exportSymbol("utils.parseJson",a.utils.parseJson);a.exportSymbol("utils.registerEventHandler",a.utils.registerEventHandler);a.exportSymbol("utils.stringifyJson",a.utils.stringifyJson);
a.exportSymbol("utils.range",a.utils.range);a.exportSymbol("utils.toggleDomNodeCssClass",a.utils.toggleDomNodeCssClass);a.exportSymbol("utils.triggerEvent",a.utils.triggerEvent);a.exportSymbol("utils.unwrapObservable",a.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this,d=Array.prototype.slice.call(arguments),a=d.shift();return function(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}});a.utils.domData=new function(){var b=0,c="__ko__"+
(new Date).getTime(),d={};return{get:function(b,c){var e=a.utils.domData.getAll(b,!1);return e===l?l:e[c]},set:function(b,c,e){e===l&&a.utils.domData.getAll(b,!1)===l||(a.utils.domData.getAll(b,!0)[c]=e)},getAll:function(a,g){var e=a[c];if(!(e&&e!=="null")){if(!g)return l;e=a[c]="ko"+b++;d[e]={}}return d[e]},clear:function(a){var b=a[c];b&&(delete d[b],a[c]=null)}}};a.exportSymbol("utils.domData",a.utils.domData);a.exportSymbol("utils.domData.clear",a.utils.domData.clear);a.utils.domNodeDisposal=
new function(){function b(b,c){var f=a.utils.domData.get(b,d);f===l&&c&&(f=[],a.utils.domData.set(b,d,f));return f}function c(e){var f=b(e,!1);if(f)for(var f=f.slice(0),d=0;d<f.length;d++)f[d](e);a.utils.domData.clear(e);typeof jQuery=="function"&&typeof jQuery.cleanData=="function"&&jQuery.cleanData([e]);if(g[e.nodeType])for(f=e.firstChild;e=f;)f=e.nextSibling,e.nodeType===8&&c(e)}var d="__ko_domNodeDisposal__"+(new Date).getTime(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{addDisposeCallback:function(a,
c){if(typeof c!="function")throw Error("Callback must be a function");b(a,!0).push(c)},removeDisposeCallback:function(c,f){var g=b(c,!1);g&&(a.utils.arrayRemoveItem(g,f),g.length==0&&a.utils.domData.set(c,d,l))},cleanNode:function(b){if(f[b.nodeType]&&(c(b),g[b.nodeType])){var d=[];a.utils.arrayPushAll(d,b.getElementsByTagName("*"));for(var b=0,j=d.length;b<j;b++)c(d[b])}},removeNode:function(b){a.cleanNode(b);b.parentNode&&b.parentNode.removeChild(b)}}};a.cleanNode=a.utils.domNodeDisposal.cleanNode;
a.removeNode=a.utils.domNodeDisposal.removeNode;a.exportSymbol("cleanNode",a.cleanNode);a.exportSymbol("removeNode",a.removeNode);a.exportSymbol("utils.domNodeDisposal",a.utils.domNodeDisposal);a.exportSymbol("utils.domNodeDisposal.addDisposeCallback",a.utils.domNodeDisposal.addDisposeCallback);a.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",a.utils.domNodeDisposal.removeDisposeCallback);(function(){a.utils.parseHtmlFragment=function(b){var c;if(typeof jQuery!="undefined"){if((c=jQuery.clean([b]))&&
c[0]){for(b=c[0];b.parentNode&&b.parentNode.nodeType!==11;)b=b.parentNode;b.parentNode&&b.parentNode.removeChild(b)}}else{var d=a.utils.stringTrim(b).toLowerCase();c=n.createElement("div");d=d.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!d.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!d.indexOf("<td")||!d.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];b="ignored<div>"+d[1]+b+d[2]+"</div>";for(typeof s.innerShiv=="function"?c.appendChild(s.innerShiv(b)):
c.innerHTML=b;d[0]--;)c=c.lastChild;c=a.utils.makeArray(c.lastChild.childNodes)}return c};a.utils.setHtml=function(b,c){a.utils.emptyDomNode(b);if(c!==null&&c!==l)if(typeof c!="string"&&(c=c.toString()),typeof jQuery!="undefined")jQuery(b).html(c);else for(var d=a.utils.parseHtmlFragment(c),f=0;f<d.length;f++)b.appendChild(d[f])}})();a.exportSymbol("utils.parseHtmlFragment",a.utils.parseHtmlFragment);a.exportSymbol("utils.setHtml",a.utils.setHtml);a.memoization=function(){function b(){return((1+Math.random())*
4294967296|0).toString(16).substring(1)}function c(b,g){if(b)if(b.nodeType==8){var e=a.memoization.parseMemoText(b.nodeValue);e!=null&&g.push({domNode:b,memoId:e})}else if(b.nodeType==1)for(var e=0,d=b.childNodes,j=d.length;e<j;e++)c(d[e],g)}var d={};return{memoize:function(a){if(typeof a!="function")throw Error("You can only pass a function to ko.memoization.memoize()");var c=b()+b();d[c]=a;return"<\!--[ko_memo:"+c+"]--\>"},unmemoize:function(a,b){var c=d[a];if(c===l)throw Error("Couldn't find any memo with ID "+
a+". Perhaps it's already been unmemoized.");try{return c.apply(null,b||[]),!0}finally{delete d[a]}},unmemoizeDomNodeAndDescendants:function(b,d){var e=[];c(b,e);for(var h=0,j=e.length;h<j;h++){var k=e[h].domNode,i=[k];d&&a.utils.arrayPushAll(i,d);a.memoization.unmemoize(e[h].memoId,i);k.nodeValue="";k.parentNode&&k.parentNode.removeChild(k)}},parseMemoText:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.exportSymbol("memoization",a.memoization);a.exportSymbol("memoization.memoize",
a.memoization.memoize);a.exportSymbol("memoization.unmemoize",a.memoization.unmemoize);a.exportSymbol("memoization.parseMemoText",a.memoization.parseMemoText);a.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",a.memoization.unmemoizeDomNodeAndDescendants);a.extenders={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.dependentObservable({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},notify:function(b,c){b.equalityComparer=c=="always"?function(){return!1}:
a.observable.fn.equalityComparer;return b}};a.exportSymbol("extenders",a.extenders);a.subscription=function(b,c,d){this.target=b;this.callback=c;this.disposeCallback=d;a.exportProperty(this,"dispose",this.dispose)};a.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};a.subscribable=function(){this._subscriptions={};a.utils.extend(this,a.subscribable.fn);a.exportProperty(this,"subscribe",this.subscribe);a.exportProperty(this,"extend",this.extend);a.exportProperty(this,
"getSubscriptionsCount",this.getSubscriptionsCount)};a.subscribable.fn={subscribe:function(b,c,d){var d=d||"change",b=c?b.bind(c):b,f=new a.subscription(this,b,function(){a.utils.arrayRemoveItem(this._subscriptions[d],f)}.bind(this));this._subscriptions[d]||(this._subscriptions[d]=[]);this._subscriptions[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";this._subscriptions[c]&&a.utils.arrayForEach(this._subscriptions[c].slice(0),function(a){a&&a.isDisposed!==!0&&a.callback(b)})},
getSubscriptionsCount:function(){var a=0,c;for(c in this._subscriptions)this._subscriptions.hasOwnProperty(c)&&(a+=this._subscriptions[c].length);return a},extend:function(b){var c=this;if(b)for(var d in b){var f=a.extenders[d];typeof f=="function"&&(c=f(c,b[d]))}return c}};a.isSubscribable=function(a){return typeof a.subscribe=="function"&&typeof a.notifySubscribers=="function"};a.exportSymbol("subscribable",a.subscribable);a.exportSymbol("isSubscribable",a.isSubscribable);a.dependencyDetection=
function(){var b=[];return{begin:function(a){b.push({callback:a,distinctDependencies:[]})},end:function(){b.pop()},registerDependency:function(c){if(!a.isSubscribable(c))throw Error("Only subscribable things can act as dependencies");if(b.length>0){var d=b[b.length-1];a.utils.arrayIndexOf(d.distinctDependencies,c)>=0||(d.distinctDependencies.push(c),d.callback(c))}}}}();var C={undefined:!0,"boolean":!0,number:!0,string:!0};a.observable=function(b){function c(){if(arguments.length>0){if(!c.equalityComparer||
!c.equalityComparer(d,arguments[0])){c.valueWillMutate();d=arguments[0];if(w)c._latestValue=d;c.valueHasMutated()}return this}else return a.dependencyDetection.registerDependency(c),d}var d=b;if(w)c._latestValue=d;a.subscribable.call(c);c.valueHasMutated=function(){c.notifySubscribers(d)};c.valueWillMutate=function(){c.notifySubscribers(d,"beforeChange")};a.utils.extend(c,a.observable.fn);a.exportProperty(c,"valueHasMutated",c.valueHasMutated);a.exportProperty(c,"valueWillMutate",c.valueWillMutate);
return c};a.observable.fn={equalityComparer:function(a,c){return a===null||typeof a in C?a===c:!1}};var v=a.observable.protoProperty="__ko_proto__";a.observable.fn[v]=a.observable;a.hasPrototype=function(b,c){return b===null||b===l||b[v]===l?!1:b[v]===c?!0:a.hasPrototype(b[v],c)};a.isObservable=function(b){return a.hasPrototype(b,a.observable)};a.isWriteableObservable=function(b){return typeof b=="function"&&b[v]===a.observable?!0:typeof b=="function"&&b[v]===a.dependentObservable&&b.hasWriteFunction?
!0:!1};a.exportSymbol("observable",a.observable);a.exportSymbol("isObservable",a.isObservable);a.exportSymbol("isWriteableObservable",a.isWriteableObservable);a.observableArray=function(b){arguments.length==0&&(b=[]);if(b!==null&&b!==l&&!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var c=a.observable(b);a.utils.extend(c,a.observableArray.fn);return c};a.observableArray.fn={remove:function(a){for(var c=this(),d=[],
f=typeof a=="function"?a:function(c){return c===a},g=0;g<c.length;g++){var e=c[g];f(e)&&(d.length===0&&this.valueWillMutate(),d.push(e),c.splice(g,1),g--)}d.length&&this.valueHasMutated();return d},removeAll:function(b){if(b===l){var c=this(),d=c.slice(0);this.valueWillMutate();c.splice(0,c.length);this.valueHasMutated();return d}return!b?[]:this.remove(function(c){return a.utils.arrayIndexOf(b,c)>=0})},destroy:function(a){var c=this(),d=typeof a=="function"?a:function(c){return c===a};this.valueWillMutate();
for(var f=c.length-1;f>=0;f--)d(c[f])&&(c[f]._destroy=!0);this.valueHasMutated()},destroyAll:function(b){return b===l?this.destroy(function(){return!0}):!b?[]:this.destroy(function(c){return a.utils.arrayIndexOf(b,c)>=0})},indexOf:function(b){var c=this();return a.utils.arrayIndexOf(c,b)},replace:function(a,c){var d=this.indexOf(a);d>=0&&(this.valueWillMutate(),this()[d]=c,this.valueHasMutated())}};a.utils.arrayForEach("pop,push,reverse,shift,sort,splice,unshift".split(","),function(b){a.observableArray.fn[b]=
function(){var a=this();this.valueWillMutate();a=a[b].apply(a,arguments);this.valueHasMutated();return a}});a.utils.arrayForEach(["slice"],function(b){a.observableArray.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.exportSymbol("observableArray",a.observableArray);a.dependentObservable=function(b,c,d){function f(){a.utils.arrayForEach(r,function(a){a.dispose()});r=[]}function g(){var a=h.throttleEvaluation;a&&a>=0?(clearTimeout(s),s=setTimeout(e,a)):e()}function e(){if(!m)if(i&&
n())q();else{m=!0;try{var b=a.utils.arrayMap(r,function(a){return a.target});a.dependencyDetection.begin(function(c){var e;(e=a.utils.arrayIndexOf(b,c))>=0?b[e]=l:r.push(c.subscribe(g))});for(var e=p.call(c),f=b.length-1;f>=0;f--)b[f]&&r.splice(f,1)[0].dispose();i=!0;h.notifySubscribers(k,"beforeChange");k=e;if(w)h._latestValue=k}finally{a.dependencyDetection.end()}h.notifySubscribers(k);m=!1}}function h(){if(arguments.length>0)j.apply(h,arguments);else return i||e(),a.dependencyDetection.registerDependency(h),
k}function j(){if(typeof A==="function")A.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");}var k,i=!1,m=!1,p=b;p&&typeof p=="object"?(d=p,p=d.read):(d=d||{},p||(p=d.read));if(typeof p!="function")throw Error("Pass a function that returns the value of the ko.computed");var A=d.write;c||(c=d.owner);var r=[],q=f,o=typeof d.disposeWhenNodeIsRemoved=="object"?d.disposeWhenNodeIsRemoved:
null,n=d.disposeWhen||function(){return!1};if(o){q=function(){a.utils.domNodeDisposal.removeDisposeCallback(o,arguments.callee);f()};a.utils.domNodeDisposal.addDisposeCallback(o,q);var u=n,n=function(){return!a.utils.domNodeIsAttachedToDocument(o)||u()}}var s=null;h.getDependenciesCount=function(){return r.length};h.hasWriteFunction=typeof d.write==="function";h.dispose=function(){q()};a.subscribable.call(h);a.utils.extend(h,a.dependentObservable.fn);d.deferEvaluation!==!0&&e();a.exportProperty(h,
"dispose",h.dispose);a.exportProperty(h,"getDependenciesCount",h.getDependenciesCount);return h};a.isComputed=function(b){return a.hasPrototype(b,a.dependentObservable)};t=a.observable.protoProperty;a.dependentObservable[t]=a.observable;a.dependentObservable.fn={};a.dependentObservable.fn[t]=a.dependentObservable;a.exportSymbol("dependentObservable",a.dependentObservable);a.exportSymbol("computed",a.dependentObservable);a.exportSymbol("isComputed",a.isComputed);(function(){function b(a,g,e){e=e||
new d;a=g(a);if(!(typeof a=="object"&&a!==null&&a!==l&&!(a instanceof Date)))return a;var h=a instanceof Array?[]:{};e.save(a,h);c(a,function(c){var d=g(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var i=e.get(d);h[c]=i!==l?i:b(d,g,e)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);typeof a.toJSON=="function"&&b("toJSON")}else for(c in a)b(c)}function d(){var b=[],c=[];this.save=function(e,
d){var j=a.utils.arrayIndexOf(b,e);j>=0?c[j]=d:(b.push(e),c.push(d))};this.get=function(e){e=a.utils.arrayIndexOf(b,e);return e>=0?c[e]:l}}a.toJS=function(c){if(arguments.length==0)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.isObservable(b)&&c<10;c++)b=b();return b})};a.toJSON=function(b,c,e){b=a.toJS(b);return a.utils.stringifyJson(b,c,e)}})();a.exportSymbol("toJS",a.toJS);a.exportSymbol("toJSON",a.toJSON);(function(){a.selectExtensions=
{readValue:function(b){switch(a.utils.tagNameLower(b)){case "option":return b.__ko__hasDomDataOptionValue__===!0?a.utils.domData.get(b,a.bindingHandlers.options.optionValueDomDataKey):b.getAttribute("value");case "select":return b.selectedIndex>=0?a.selectExtensions.readValue(b.options[b.selectedIndex]):l;default:return b.value}},writeValue:function(b,c){switch(a.utils.tagNameLower(b)){case "option":switch(typeof c){case "string":a.utils.domData.set(b,a.bindingHandlers.options.optionValueDomDataKey,
l);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.utils.domData.set(b,a.bindingHandlers.options.optionValueDomDataKey,c),b.__ko__hasDomDataOptionValue__=!0,b.value=typeof c==="number"?c:""}break;case "select":for(var d=b.options.length-1;d>=0;d--)if(a.selectExtensions.readValue(b.options[d])==c){b.selectedIndex=d;break}break;default:if(c===null||c===l)c="";b.value=c}}}})();a.exportSymbol("selectExtensions",a.selectExtensions);a.exportSymbol("selectExtensions.readValue",
a.selectExtensions.readValue);a.exportSymbol("selectExtensions.writeValue",a.selectExtensions.writeValue);a.jsonExpressionRewriting=function(){function b(a,b){for(var d=null;a!=d;)d=a,a=a.replace(c,function(a,c){return b[c]});return a}var c=/\@ko_token_(\d+)\@/g,d=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,f=["true","false"];return{bindingRewriteValidators:[],parseObjectLiteral:function(c){var e=a.utils.stringTrim(c);if(e.length<3)return[];e.charAt(0)==="{"&&(e=e.substring(1,
e.length-1));for(var c=[],d=null,f,k=0;k<e.length;k++){var i=e.charAt(k);if(d===null)switch(i){case '"':case "'":case "/":d=k,f=i}else if(i==f&&e.charAt(k-1)!=="\\"){i=e.substring(d,k+1);c.push(i);var m="@ko_token_"+(c.length-1)+"@",e=e.substring(0,d)+m+e.substring(k+1);k-=i.length-m.length;d=null}}f=d=null;for(var p=0,l=null,k=0;k<e.length;k++){i=e.charAt(k);if(d===null)switch(i){case "{":d=k;l=i;f="}";break;case "(":d=k;l=i;f=")";break;case "[":d=k,l=i,f="]"}i===l?p++:i===f&&(p--,p===0&&(i=e.substring(d,
k+1),c.push(i),m="@ko_token_"+(c.length-1)+"@",e=e.substring(0,d)+m+e.substring(k+1),k-=i.length-m.length,d=null))}f=[];e=e.split(",");d=0;for(k=e.length;d<k;d++)l=e[d],i=l.indexOf(":"),i>0&&i<l.length-1?(p=l.substring(0,i),l=l.substring(i+1),f.push({key:b(p,c),value:b(l,c)})):f.push({unknown:b(l,c)});return f},insertPropertyAccessorsIntoJson:function(b){for(var c=typeof b==="string"?a.jsonExpressionRewriting.parseObjectLiteral(b):b,h=[],b=[],j,k=0;j=c[k];k++)if(h.length>0&&h.push(","),j.key){var i;
a:{i=j.key;var m=a.utils.stringTrim(i);switch(m.length&&m.charAt(0)){case "'":case '"':break a;default:i="'"+m+"'"}}j=j.value;h.push(i);h.push(":");h.push(j);m=a.utils.stringTrim(j);if(a.utils.arrayIndexOf(f,a.utils.stringTrim(m).toLowerCase())>=0?0:m.match(d)!==null)b.length>0&&b.push(", "),b.push(i+" : function(__ko_value) { "+j+" = __ko_value; }")}else j.unknown&&h.push(j.unknown);c=h.join("");b.length>0&&(b=b.join(""),c=c+", '_ko_property_writers' : { "+b+" } ");return c},keyValueArrayContainsKey:function(b,
c){for(var d=0;d<b.length;d++)if(a.utils.stringTrim(b[d].key)==c)return!0;return!1},writeValueToProperty:function(b,c,d,f,k){if(!b||!a.isWriteableObservable(b)){if((b=c()._ko_property_writers)&&b[d])b[d](f)}else(!k||b()!==f)&&b(f)}}}();a.exportSymbol("jsonExpressionRewriting",a.jsonExpressionRewriting);a.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",a.jsonExpressionRewriting.bindingRewriteValidators);a.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",a.jsonExpressionRewriting.parseObjectLiteral);
a.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.jsonExpressionRewriting.insertPropertyAccessorsIntoJson);(function(){function b(a){return a.nodeType==8&&(g?a.text:a.nodeValue).match(e)}function c(a){return a.nodeType==8&&(g?a.text:a.nodeValue).match(h)}function d(a,e){for(var d=a,f=1,g=[];d=d.nextSibling;){if(c(d)&&(f--,f===0))return g;g.push(d);b(d)&&f++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function f(a,b){var c=d(a,b);
return c?c.length>0?c[c.length-1].nextSibling:a.nextSibling:null}var g=n.createComment("test").text==="<\!--test--\>",e=g?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,h=g?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,j={ul:!0,ol:!0};a.virtualElements={allowedBindings:{},childNodes:function(a){return b(a)?d(a):a.childNodes},emptyNode:function(c){if(b(c))for(var c=a.virtualElements.childNodes(c),e=0,d=c.length;e<d;e++)a.removeNode(c[e]);else a.utils.emptyDomNode(c)},setDomNodeChildren:function(c,
e){if(b(c)){a.virtualElements.emptyNode(c);for(var d=c.nextSibling,f=0,g=e.length;f<g;f++)d.parentNode.insertBefore(e[f],d)}else a.utils.setDomNodeChildren(c,e)},prepend:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},insertAfter:function(a,c,e){b(a)?a.parentNode.insertBefore(c,e.nextSibling):e.nextSibling?a.insertBefore(c,e.nextSibling):a.appendChild(c)},firstChild:function(a){return!b(a)?a.firstChild:!a.nextSibling||c(a.nextSibling)?
null:a.nextSibling},nextSibling:function(a){b(a)&&(a=f(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},virtualNodeBindingValue:function(a){return(a=b(a))?a[1]:null},normaliseVirtualElementDomStructure:function(e){if(j[a.utils.tagNameLower(e)]){var d=e.firstChild;if(d){do if(d.nodeType===1){var g;g=d.firstChild;var h=null;if(g){do if(h)h.push(g);else if(b(g)){var l=f(g,!0);l?g=l:h=[g]}else c(g)&&(h=[g]);while(g=g.nextSibling)}if(g=h){h=d.nextSibling;for(l=0;l<g.length;l++)h?e.insertBefore(g[l],
h):e.appendChild(g[l])}}while(d=d.nextSibling)}}}}})();a.exportSymbol("virtualElements",a.virtualElements);a.exportSymbol("virtualElements.allowedBindings",a.virtualElements.allowedBindings);a.exportSymbol("virtualElements.emptyNode",a.virtualElements.emptyNode);a.exportSymbol("virtualElements.insertAfter",a.virtualElements.insertAfter);a.exportSymbol("virtualElements.prepend",a.virtualElements.prepend);a.exportSymbol("virtualElements.setDomNodeChildren",a.virtualElements.setDomNodeChildren);(function(){a.bindingProvider=
function(){this.bindingCache={}};a.utils.extend(a.bindingProvider.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind")!=null;case 8:return a.virtualElements.virtualNodeBindingValue(b)!=null;default:return!1}},getBindings:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.virtualElements.virtualNodeBindingValue(b);
default:return null}},parseBindingsString:function(b,c){try{var d=c.$data,d=typeof d=="object"&&d!=null?[d,c]:[c],f=d.length,g=this.bindingCache,e=f+"_"+b,h;if(!(h=g[e])){var j,k=" { "+a.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(b)+" } ";j=a.utils.buildEvalWithinScopeFunction(k,f);h=g[e]=j}return h(d)}catch(i){throw Error("Unable to parse bindings.\nMessage: "+i+";\nBindings value: "+b);}}});a.bindingProvider.instance=new a.bindingProvider})();a.exportSymbol("bindingProvider",a.bindingProvider);
(function(){function b(b,d,e){for(var h=a.virtualElements.firstChild(d);d=h;)h=a.virtualElements.nextSibling(d),c(b,d,e)}function c(c,g,e){var h=!0,j=g.nodeType===1;j&&a.virtualElements.normaliseVirtualElementDomStructure(g);if(j&&e||a.bindingProvider.instance.nodeHasBindings(g))h=d(g,null,c,e).shouldBindDescendants;h&&b(c,g,!j)}function d(b,c,e,d){function j(a){return function(){return m[a]}}function k(){return m}var i=0,m,p;a.dependentObservable(function(){var n=e&&e instanceof a.bindingContext?
e:new a.bindingContext(a.utils.unwrapObservable(e)),r=n.$data;d&&a.storedBindingContextForNode(b,n);if(m=(typeof c=="function"?c():c)||a.bindingProvider.instance.getBindings(b,n)){if(i===0){i=1;for(var q in m){var o=a.bindingHandlers[q];if(o&&b.nodeType===8&&!a.virtualElements.allowedBindings[q])throw Error("The binding '"+q+"' cannot be used with virtual elements");if(o&&typeof o.init=="function"&&(o=(0,o.init)(b,j(q),k,r,n))&&o.controlsDescendantBindings){if(p!==l)throw Error("Multiple bindings ("+
p+" and "+q+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");p=q}}i=2}if(i===2)for(q in m)(o=a.bindingHandlers[q])&&typeof o.update=="function"&&(0,o.update)(b,j(q),k,r,n)}},null,{disposeWhenNodeIsRemoved:b});return{shouldBindDescendants:p===l}}a.bindingHandlers={};a.bindingContext=function(b,c){c?(a.utils.extend(this,c),this.$parentContext=c,this.$parent=c.$data,this.$parents=(c.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):
(this.$parents=[],this.$root=b);this.$data=b};a.bindingContext.prototype.createChildContext=function(b){return new a.bindingContext(b,this)};a.bindingContext.prototype.extend=function(b){var c=a.utils.extend(new a.bindingContext,this);return a.utils.extend(c,b)};a.storedBindingContextForNode=function(b,c){if(arguments.length==2)a.utils.domData.set(b,"__ko_bindingContext__",c);else return a.utils.domData.get(b,"__ko_bindingContext__")};a.applyBindingsToNode=function(b,c,e){b.nodeType===1&&a.virtualElements.normaliseVirtualElementDomStructure(b);
return d(b,c,e,!0)};a.applyBindingsToDescendants=function(a,c){(c.nodeType===1||c.nodeType===8)&&b(a,c,!0)};a.applyBindings=function(a,b){if(b&&b.nodeType!==1&&b.nodeType!==8)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||s.document.body;c(a,b,!0)};a.contextFor=function(b){switch(b.nodeType){case 1:case 8:var c=a.storedBindingContextForNode(b);if(c)return c;if(b.parentNode)return a.contextFor(b.parentNode)}return l};a.dataFor=
function(b){return(b=a.contextFor(b))?b.$data:l};a.exportSymbol("bindingHandlers",a.bindingHandlers);a.exportSymbol("applyBindings",a.applyBindings);a.exportSymbol("applyBindingsToDescendants",a.applyBindingsToDescendants);a.exportSymbol("applyBindingsToNode",a.applyBindingsToNode);a.exportSymbol("contextFor",a.contextFor);a.exportSymbol("dataFor",a.dataFor)})();a.utils.arrayForEach(["click"],function(b){a.bindingHandlers[b]={init:function(c,d,f,g){return a.bindingHandlers.event.init.call(this,c,
function(){var a={};a[b]=d();return a},f,g)}}});a.bindingHandlers.event={init:function(b,c,d,f){var g=c()||{},e;for(e in g)(function(){var g=e;typeof g=="string"&&a.utils.registerEventHandler(b,g,function(b){var e,i=c()[g];if(i){var l=d();try{var p=a.utils.makeArray(arguments);p.unshift(f);e=i.apply(f,p)}finally{if(e!==!0)b.preventDefault?b.preventDefault():b.returnValue=!1}if(l[g+"Bubble"]===!1)b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation()}})})()}};a.bindingHandlers.submit={init:function(b,
c,d,f){if(typeof c()!="function")throw Error("The value for a submit binding must be a function");a.utils.registerEventHandler(b,"submit",function(a){var e,d=c();try{e=d.call(f,b)}finally{if(e!==!0)a.preventDefault?a.preventDefault():a.returnValue=!1}})}};a.bindingHandlers.visible={update:function(b,c){var d=a.utils.unwrapObservable(c()),f=b.style.display!="none";if(d&&!f)b.style.display="";else if(!d&&f)b.style.display="none"}};a.bindingHandlers.enable={update:function(b,c){var d=a.utils.unwrapObservable(c());
if(d&&b.disabled)b.removeAttribute("disabled");else if(!d&&!b.disabled)b.disabled=!0}};a.bindingHandlers.disable={update:function(b,c){a.bindingHandlers.enable.update(b,function(){return!a.utils.unwrapObservable(c())})}};a.bindingHandlers.value={init:function(b,c,d){var f=["change"],g=d().valueUpdate;g&&(typeof g=="string"&&(g=[g]),a.utils.arrayPushAll(f,g),f=a.utils.arrayGetDistinctValues(f));var e=function(){var e=c(),f=a.selectExtensions.readValue(b);a.jsonExpressionRewriting.writeValueToProperty(e,
d,"value",f,!0)};if(a.utils.ieVersion&&b.tagName.toLowerCase()=="input"&&b.type=="text"&&b.autocomplete!="off"&&(!b.form||b.form.autocomplete!="off")&&a.utils.arrayIndexOf(f,"propertychange")==-1){var h=!1;a.utils.registerEventHandler(b,"propertychange",function(){h=!0});a.utils.registerEventHandler(b,"blur",function(){h&&(h=!1,e())})}a.utils.arrayForEach(f,function(c){var d=e;a.utils.stringStartsWith(c,"after")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.utils.registerEventHandler(b,c,d)})},
update:function(b,c){var d=a.utils.tagNameLower(b)==="select",f=a.utils.unwrapObservable(c()),g=a.selectExtensions.readValue(b),e=f!=g;f===0&&g!==0&&g!=="0"&&(e=!0);e&&(g=function(){a.selectExtensions.writeValue(b,f)},g(),d&&setTimeout(g,0));d&&b.length>0&&z(b,f,!1)}};a.bindingHandlers.options={update:function(b,c,d){if(a.utils.tagNameLower(b)!=="select")throw Error("options binding applies only to SELECT elements");for(var f=b.length==0,g=a.utils.arrayMap(a.utils.arrayFilter(b.childNodes,function(b){return b.tagName&&
a.utils.tagNameLower(b)==="option"&&b.selected}),function(b){return a.selectExtensions.readValue(b)||b.innerText||b.textContent}),e=b.scrollTop,h=a.utils.unwrapObservable(c());b.length>0;)a.cleanNode(b.options[0]),b.remove(0);if(h){d=d();typeof h.length!="number"&&(h=[h]);if(d.optionsCaption){var j=n.createElement("option");a.utils.setHtml(j,d.optionsCaption);a.selectExtensions.writeValue(j,l);b.appendChild(j)}for(var c=0,k=h.length;c<k;c++){var j=n.createElement("option"),i=typeof d.optionsValue==
"string"?h[c][d.optionsValue]:h[c],i=a.utils.unwrapObservable(i);a.selectExtensions.writeValue(j,i);var m=d.optionsText,i=typeof m=="function"?m(h[c]):typeof m=="string"?h[c][m]:i;if(i===null||i===l)i="";a.utils.setTextContent(j,i);b.appendChild(j)}h=b.getElementsByTagName("option");c=j=0;for(k=h.length;c<k;c++)a.utils.arrayIndexOf(g,a.selectExtensions.readValue(h[c]))>=0&&(a.utils.setOptionNodeSelectionState(h[c],!0),j++);b.scrollTop=e;f&&"value"in d&&z(b,a.utils.unwrapObservable(d.value),!0);a.utils.ensureSelectElementIsRenderedCorrectly(b)}}};
a.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";a.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(b){for(var c=[],b=b.childNodes,d=0,f=b.length;d<f;d++){var g=b[d],e=a.utils.tagNameLower(g);e=="option"&&g.selected?c.push(a.selectExtensions.readValue(g)):e=="optgroup"&&(g=a.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(g),Array.prototype.splice.apply(c,[c.length,0].concat(g)))}return c},init:function(b,c,d){a.utils.registerEventHandler(b,
"change",function(){var b=c(),g=a.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);a.jsonExpressionRewriting.writeValueToProperty(b,d,"value",g)})},update:function(b,c){if(a.utils.tagNameLower(b)!="select")throw Error("values binding applies only to SELECT elements");var d=a.utils.unwrapObservable(c());if(d&&typeof d.length=="number")for(var f=b.childNodes,g=0,e=f.length;g<e;g++){var h=f[g];a.utils.tagNameLower(h)==="option"&&a.utils.setOptionNodeSelectionState(h,a.utils.arrayIndexOf(d,
a.selectExtensions.readValue(h))>=0)}}};a.bindingHandlers.text={update:function(b,c){a.utils.setTextContent(b,c())}};a.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){var d=a.utils.unwrapObservable(c());a.utils.setHtml(b,d)}};a.bindingHandlers.css={update:function(b,c){var d=a.utils.unwrapObservable(c()||{}),f;for(f in d)if(typeof f=="string"){var g=a.utils.unwrapObservable(d[f]);a.utils.toggleDomNodeCssClass(b,f,g)}}};a.bindingHandlers.style={update:function(b,
c){var d=a.utils.unwrapObservable(c()||{}),f;for(f in d)if(typeof f=="string"){var g=a.utils.unwrapObservable(d[f]);b.style[f]=g||""}}};a.bindingHandlers.uniqueName={init:function(b,c){if(c())b.name="ko_unique_"+ ++a.bindingHandlers.uniqueName.currentIndex,(a.utils.isIe6||a.utils.isIe7)&&b.mergeAttributes(n.createElement("<input name='"+b.name+"'/>"),!1)}};a.bindingHandlers.uniqueName.currentIndex=0;a.bindingHandlers.checked={init:function(b,c,d){a.utils.registerEventHandler(b,"click",function(){var f;
if(b.type=="checkbox")f=b.checked;else if(b.type=="radio"&&b.checked)f=b.value;else return;var g=c();b.type=="checkbox"&&a.utils.unwrapObservable(g)instanceof Array?(f=a.utils.arrayIndexOf(a.utils.unwrapObservable(g),b.value),b.checked&&f<0?g.push(b.value):!b.checked&&f>=0&&g.splice(f,1)):a.jsonExpressionRewriting.writeValueToProperty(g,d,"checked",f,!0)});b.type=="radio"&&!b.name&&a.bindingHandlers.uniqueName.init(b,function(){return!0})},update:function(b,c){var d=a.utils.unwrapObservable(c());
if(b.type=="checkbox")b.checked=d instanceof Array?a.utils.arrayIndexOf(d,b.value)>=0:d;else if(b.type=="radio")b.checked=b.value==d}};var B={"class":"className","for":"htmlFor"};a.bindingHandlers.attr={update:function(b,c){var d=a.utils.unwrapObservable(c())||{},f;for(f in d)if(typeof f=="string"){var g=a.utils.unwrapObservable(d[f]),e=g===!1||g===null||g===l;e&&b.removeAttribute(f);a.utils.ieVersion<=8&&f in B?(f=B[f],e?b.removeAttribute(f):b[f]=g):e||b.setAttribute(f,g.toString())}}};a.bindingHandlers.hasfocus=
{init:function(b,c,d){var f=function(b){var e=c();a.jsonExpressionRewriting.writeValueToProperty(e,d,"hasfocus",b,!0)};a.utils.registerEventHandler(b,"focus",function(){f(!0)});a.utils.registerEventHandler(b,"focusin",function(){f(!0)});a.utils.registerEventHandler(b,"blur",function(){f(!1)});a.utils.registerEventHandler(b,"focusout",function(){f(!1)})},update:function(b,c){var d=a.utils.unwrapObservable(c());d?b.focus():b.blur();a.utils.triggerEvent(b,d?"focusin":"focusout")}};a.bindingHandlers["with"]=
{makeTemplateValueAccessor:function(b){return function(){var c=b();return{"if":c,data:c,templateEngine:a.nativeTemplateEngine.instance}}},init:function(b,c){return a.bindingHandlers.template.init(b,a.bindingHandlers["with"].makeTemplateValueAccessor(c))},update:function(b,c,d,f,g){return a.bindingHandlers.template.update(b,a.bindingHandlers["with"].makeTemplateValueAccessor(c),d,f,g)}};a.jsonExpressionRewriting.bindingRewriteValidators["with"]=!1;a.virtualElements.allowedBindings["with"]=!0;a.bindingHandlers["if"]=
{makeTemplateValueAccessor:function(b){return function(){return{"if":b(),templateEngine:a.nativeTemplateEngine.instance}}},init:function(b,c){return a.bindingHandlers.template.init(b,a.bindingHandlers["if"].makeTemplateValueAccessor(c))},update:function(b,c,d,f,g){return a.bindingHandlers.template.update(b,a.bindingHandlers["if"].makeTemplateValueAccessor(c),d,f,g)}};a.jsonExpressionRewriting.bindingRewriteValidators["if"]=!1;a.virtualElements.allowedBindings["if"]=!0;a.bindingHandlers.ifnot={makeTemplateValueAccessor:function(b){return function(){return{ifnot:b(),
templateEngine:a.nativeTemplateEngine.instance}}},init:function(b,c){return a.bindingHandlers.template.init(b,a.bindingHandlers.ifnot.makeTemplateValueAccessor(c))},update:function(b,c,d,f,g){return a.bindingHandlers.template.update(b,a.bindingHandlers.ifnot.makeTemplateValueAccessor(c),d,f,g)}};a.jsonExpressionRewriting.bindingRewriteValidators.ifnot=!1;a.virtualElements.allowedBindings.ifnot=!0;a.bindingHandlers.foreach={makeTemplateValueAccessor:function(b){return function(){var c=a.utils.unwrapObservable(b());
return!c||typeof c.length=="number"?{foreach:c,templateEngine:a.nativeTemplateEngine.instance}:{foreach:c.data,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,templateEngine:a.nativeTemplateEngine.instance}}},init:function(b,c){return a.bindingHandlers.template.init(b,a.bindingHandlers.foreach.makeTemplateValueAccessor(c))},update:function(b,c,d,f,g){return a.bindingHandlers.template.update(b,a.bindingHandlers.foreach.makeTemplateValueAccessor(c),
d,f,g)}};a.jsonExpressionRewriting.bindingRewriteValidators.foreach=!1;a.virtualElements.allowedBindings.foreach=!0;a.templateEngine=function(){};a.templateEngine.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.templateEngine.prototype.makeTemplateSource=function(b,c){if(typeof b=="string"){var c=c||n,d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+
b);return new a.templateSources.domElement(d)}else if(b.nodeType==1||b.nodeType==8)return new a.templateSources.anonymousTemplate(b);else throw Error("Unknown template type: "+b);};a.templateEngine.prototype.renderTemplate=function(a,c,d,f){return this.renderTemplateSource(this.makeTemplateSource(a,f),c,d)};a.templateEngine.prototype.isTemplateRewritten=function(a,c){return this.allowTemplateRewriting===!1?!0:!(c&&c!=n)&&this.knownRewrittenTemplates&&this.knownRewrittenTemplates[a]?!0:this.makeTemplateSource(a,
c).data("isRewritten")};a.templateEngine.prototype.rewriteTemplate=function(a,c,d){var f=this.makeTemplateSource(a,d),c=c(f.text());f.text(c);f.data("isRewritten",!0);if(!(d&&d!=n)&&typeof a=="string")this.knownRewrittenTemplates=this.knownRewrittenTemplates||{},this.knownRewrittenTemplates[a]=!0};a.exportSymbol("templateEngine",a.templateEngine);a.templateRewriting=function(){function b(b,c,e){for(var b=a.jsonExpressionRewriting.parseObjectLiteral(b),d=a.jsonExpressionRewriting.bindingRewriteValidators,
j=0;j<b.length;j++){var k=b[j].key;if(d.hasOwnProperty(k)){var i=d[k];if(typeof i==="function"){if(k=i(b[j].value))throw Error(k);}else if(!i)throw Error("This template engine does not support the '"+k+"' binding within its templates");}}b="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+a.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(b)+" } })()         })";return e.createJavaScriptEvaluatorBlock(b)+c}var c=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,
d=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{ensureTemplateIsRewritten:function(b,c,e){c.isTemplateRewritten(b,e)||c.rewriteTemplate(b,function(b){return a.templateRewriting.memoizeBindingAttributeSyntax(b,c)},e)},memoizeBindingAttributeSyntax:function(a,g){return a.replace(c,function(a,c,d,f,i,l,p){return b(p,c,g)}).replace(d,function(a,c){return b(c,"<\!-- ko --\>",g)})},applyMemoizedBindingsToNextSibling:function(b){return a.memoization.memoize(function(c,e){c.nextSibling&&a.applyBindingsToNode(c.nextSibling,
b,e)})}}}();a.exportSymbol("templateRewriting",a.templateRewriting);a.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",a.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){a.templateSources={};a.templateSources.domElement=function(a){this.domElement=a};a.templateSources.domElement.prototype.text=function(){var b=a.utils.tagNameLower(this.domElement),b=b==="script"?"text":b==="textarea"?"value":"innerHTML";if(arguments.length==0)return this.domElement[b];else{var c=
arguments[0];b==="innerHTML"?a.utils.setHtml(this.domElement,c):this.domElement[b]=c}};a.templateSources.domElement.prototype.data=function(b){if(arguments.length===1)return a.utils.domData.get(this.domElement,"templateSourceData_"+b);else a.utils.domData.set(this.domElement,"templateSourceData_"+b,arguments[1])};a.templateSources.anonymousTemplate=function(a){this.domElement=a};a.templateSources.anonymousTemplate.prototype=new a.templateSources.domElement;a.templateSources.anonymousTemplate.prototype.text=
function(){if(arguments.length==0){var b=a.utils.domData.get(this.domElement,"__ko_anon_template__")||{};if(b.textData===l&&b.containerData)b.textData=b.containerData.innerHTML;return b.textData}else a.utils.domData.set(this.domElement,"__ko_anon_template__",{textData:arguments[0]})};a.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0)return(a.utils.domData.get(this.domElement,"__ko_anon_template__")||{}).containerData;else a.utils.domData.set(this.domElement,"__ko_anon_template__",
{containerData:arguments[0]})};a.exportSymbol("templateSources",a.templateSources);a.exportSymbol("templateSources.domElement",a.templateSources.domElement);a.exportSymbol("templateSources.anonymousTemplate",a.templateSources.anonymousTemplate)})();(function(){function b(b,c,d){for(var f,c=a.virtualElements.nextSibling(c);b&&(f=b)!==c;)b=a.virtualElements.nextSibling(f),(f.nodeType===1||f.nodeType===8)&&d(f)}function c(c,d){if(c.length){var f=c[0],g=c[c.length-1];b(f,g,function(b){a.applyBindings(d,
b)});b(f,g,function(b){a.memoization.unmemoizeDomNodeAndDescendants(b,[d])})}}function d(a){return a.nodeType?a:a.length>0?a[0]:null}function f(b,f,j,k,i){var i=i||{},l=b&&d(b),l=l&&l.ownerDocument,p=i.templateEngine||g;a.templateRewriting.ensureTemplateIsRewritten(j,p,l);j=p.renderTemplate(j,k,i,l);if(typeof j.length!="number"||j.length>0&&typeof j[0].nodeType!="number")throw Error("Template engine must return an array of DOM nodes");l=!1;switch(f){case "replaceChildren":a.virtualElements.setDomNodeChildren(b,
j);l=!0;break;case "replaceNode":a.utils.replaceDomNodes(b,j);l=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+f);}l&&(c(j,k),i.afterRender&&i.afterRender(j,k.$data));return j}var g;a.setTemplateEngine=function(b){if(b!=l&&!(b instanceof a.templateEngine))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.renderTemplate=function(b,c,j,k,i){j=j||{};if((j.templateEngine||g)==l)throw Error("Set a template engine before calling renderTemplate");
i=i||"replaceChildren";if(k){var m=d(k);return a.dependentObservable(function(){var g=c&&c instanceof a.bindingContext?c:new a.bindingContext(a.utils.unwrapObservable(c)),l=typeof b=="function"?b(g.$data):b,g=f(k,i,l,g,j);i=="replaceNode"&&(k=g,m=d(k))},null,{disposeWhen:function(){return!m||!a.utils.domNodeIsAttachedToDocument(m)},disposeWhenNodeIsRemoved:m&&i=="replaceNode"?m.parentNode:m})}else return a.memoization.memoize(function(d){a.renderTemplate(b,c,j,d,"replaceNode")})};a.renderTemplateForEach=
function(b,d,g,k,i){var m,p=function(c,d){var h=typeof b=="function"?b(c):b;m=i.createChildContext(a.utils.unwrapObservable(c));m.$index=d;return f(null,"ignoreTargetNode",h,m,g)},n=function(a,b){c(b,m);g.afterRender&&g.afterRender(b,a)};return a.dependentObservable(function(){var b=a.utils.unwrapObservable(d)||[];typeof b.length=="undefined"&&(b=[b]);b=a.utils.arrayFilter(b,function(b){return g.includeDestroyed||b===l||b===null||!a.utils.unwrapObservable(b._destroy)});a.utils.setDomNodeChildrenFromArrayMapping(k,
b,p,g,n)},null,{disposeWhenNodeIsRemoved:k})};a.bindingHandlers.template={init:function(b,c){var d=a.utils.unwrapObservable(c());if(typeof d!="string"&&!d.name&&(b.nodeType==1||b.nodeType==8))d=b.nodeType==1?b.childNodes:a.virtualElements.childNodes(b),d=a.utils.moveCleanedNodesToContainerElement(d),(new a.templateSources.anonymousTemplate(b)).nodes(d);return{controlsDescendantBindings:!0}},update:function(b,c,d,f,g){c=a.utils.unwrapObservable(c());f=!0;typeof c=="string"?d=c:(d=c.name,"if"in c&&
(f=f&&a.utils.unwrapObservable(c["if"])),"ifnot"in c&&(f=f&&!a.utils.unwrapObservable(c.ifnot)));var l=null;typeof c==="object"&&"foreach"in c?l=a.renderTemplateForEach(d||b,f&&c.foreach||[],c,b,g):f?(g=typeof c=="object"&&"data"in c?g.createChildContext(a.utils.unwrapObservable(c.data)):g,l=a.renderTemplate(d||b,g,c,b)):a.virtualElements.emptyNode(b);g=l;(c=a.utils.domData.get(b,"__ko__templateSubscriptionDomDataKey__"))&&typeof c.dispose=="function"&&c.dispose();a.utils.domData.set(b,"__ko__templateSubscriptionDomDataKey__",
g)}};a.jsonExpressionRewriting.bindingRewriteValidators.template=function(b){b=a.jsonExpressionRewriting.parseObjectLiteral(b);return b.length==1&&b[0].unknown?null:a.jsonExpressionRewriting.keyValueArrayContainsKey(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.virtualElements.allowedBindings.template=!0})();a.exportSymbol("setTemplateEngine",a.setTemplateEngine);a.exportSymbol("renderTemplate",a.renderTemplate);(function(){a.utils.compareArrays=
function(b,c,d){if(d===l)return a.utils.compareArrays(b,c,1)||a.utils.compareArrays(b,c,10)||a.utils.compareArrays(b,c,Number.MAX_VALUE);else{for(var b=b||[],c=c||[],f=b,g=c,e=[],h=0;h<=g.length;h++)e[h]=[];for(var h=0,j=Math.min(f.length,d);h<=j;h++)e[0][h]=h;h=1;for(j=Math.min(g.length,d);h<=j;h++)e[h][0]=h;for(var j=f.length,k,i=g.length,h=1;h<=j;h++){k=Math.max(1,h-d);for(var m=Math.min(i,h+d);k<=m;k++)e[k][h]=f[h-1]===g[k-1]?e[k-1][h-1]:Math.min(e[k-1][h]===l?Number.MAX_VALUE:e[k-1][h]+1,e[k][h-
1]===l?Number.MAX_VALUE:e[k][h-1]+1)}d=b.length;f=c.length;g=[];h=e[f][d];if(h===l)e=null;else{for(;d>0||f>0;){j=e[f][d];i=f>0?e[f-1][d]:h+1;m=d>0?e[f][d-1]:h+1;k=f>0&&d>0?e[f-1][d-1]:h+1;if(i===l||i<j-1)i=h+1;if(m===l||m<j-1)m=h+1;k<j-1&&(k=h+1);i<=m&&i<k?(g.push({status:"added",value:c[f-1]}),f--):(m<i&&m<k?g.push({status:"deleted",value:b[d-1]}):(g.push({status:"retained",value:b[d-1]}),f--),d--)}e=g.reverse()}return e}}})();a.exportSymbol("utils.compareArrays",a.utils.compareArrays);(function(){function b(a){if(a.length>
2){for(var b=a[0],c=a[a.length-1],e=[b];b!==c;){b=b.nextSibling;if(!b)return;e.push(b)}Array.prototype.splice.apply(a,[0,a.length].concat(e))}}function c(c,f,g,e,h){var j=[],c=a.dependentObservable(function(){var c=f(g,h)||[];j.length>0&&(b(j),a.utils.replaceDomNodes(j,c),e&&e(g,c));j.splice(0,j.length);a.utils.arrayPushAll(j,c)},null,{disposeWhenNodeIsRemoved:c,disposeWhen:function(){return j.length==0||!a.utils.domNodeIsAttachedToDocument(j[0])}});return{mappedNodes:j,dependentObservable:c}}a.utils.setDomNodeChildrenFromArrayMapping=
function(d,f,g,e,h){for(var f=f||[],e=e||{},j=a.utils.domData.get(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===l,k=a.utils.domData.get(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],i=a.utils.arrayMap(k,function(a){return a.arrayEntry}),m=a.utils.compareArrays(i,f),f=[],p=0,n=[],r=0,i=[],q=null,o=0,s=m.length;o<s;o++)switch(m[o].status){case "retained":var u=k[p];u.indexObservable(r);r=f.push(u);u.domNodes.length>0&&(q=u.domNodes[u.domNodes.length-1]);p++;break;case "deleted":k[p].dependentObservable.dispose();
b(k[p].domNodes);a.utils.arrayForEach(k[p].domNodes,function(a){n.push({element:a,index:o,value:m[o].value});q=a});p++;break;case "added":for(var u=m[o].value,v=a.observable(r),r=c(d,g,u,h,v),t=r.mappedNodes,r=f.push({arrayEntry:m[o].value,domNodes:t,dependentObservable:r.dependentObservable,indexObservable:v}),w=0,x=t.length;w<x;w++){var y=t[w];i.push({element:y,index:o,value:m[o].value});q==null?a.virtualElements.prepend(d,y):a.virtualElements.insertAfter(d,y,q);q=y}h&&h(u,t,v)}a.utils.arrayForEach(n,
function(b){a.cleanNode(b.element)});g=!1;if(!j){if(e.afterAdd)for(o=0;o<i.length;o++)e.afterAdd(i[o].element,i[o].index,i[o].value);if(e.beforeRemove){for(o=0;o<n.length;o++)e.beforeRemove(n[o].element,n[o].index,n[o].value);g=!0}}if(!g&&n.length)for(o=0;o<n.length;o++)e=n[o].element,e.parentNode&&e.parentNode.removeChild(e);a.utils.domData.set(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult",f)}})();a.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",a.utils.setDomNodeChildrenFromArrayMapping);
a.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};a.nativeTemplateEngine.prototype=new a.templateEngine;a.nativeTemplateEngine.prototype.renderTemplateSource=function(b){var c=!(a.utils.ieVersion<9)&&b.nodes?b.nodes():null;return c?a.utils.makeArray(c.cloneNode(!0).childNodes):(b=b.text(),a.utils.parseHtmlFragment(b))};a.nativeTemplateEngine.instance=new a.nativeTemplateEngine;a.setTemplateEngine(a.nativeTemplateEngine.instance);a.exportSymbol("nativeTemplateEngine",a.nativeTemplateEngine);
(function(){a.jqueryTmplTemplateEngine=function(){var a=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,f,g){g=g||{};if(a<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var e=b.data("precompiled");e||(e=b.text()||"",e=jQuery.template(null,"{{ko_with $item.koBindingContext}}"+
e+"{{/ko_with}}"),b.data("precompiled",e));b=[f.$data];f=jQuery.extend({koBindingContext:f},g.templateOptions);f=jQuery.tmpl(e,b,f);f.appendTo(n.createElement("div"));jQuery.fragments={};return f};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){n.write("<script type='text/html' id='"+a+"'>"+b+"<\/script>")};if(a>0)jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "}};
a.jqueryTmplTemplateEngine.prototype=new a.templateEngine;var b=new a.jqueryTmplTemplateEngine;b.jQueryTmplVersion>0&&a.setTemplateEngine(b);a.exportSymbol("jqueryTmplTemplateEngine",a.jqueryTmplTemplateEngine)})()})})(window,document,navigator);
